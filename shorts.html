<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Shorts - RAW FADE</title>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
	<style>
		* { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }
		html { overflow-x: hidden; }
		:root {
			--bg: #000000;
			--panel: #111111;
			--text: #ffffff;
			--muted: #cccccc;
			--accent: #ffffff;
			--border: #333333;
		}
		body { background: #000000; color: #ffffff; overflow-x: hidden; }

		/* Enhanced Header */
		#header { 
			background: linear-gradient(135deg, rgba(0, 0, 0, 0.95), rgba(0, 0, 0, 0.95), rgba(9, 9, 11, 0.95));
			backdrop-filter: blur(15px);
			-webkit-backdrop-filter: blur(15px);
			border-bottom: 2px solid rgba(66, 65, 65, 0.2); 
			box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
			position: sticky; 
			top: 0; 
			z-index: 999; 
			padding: 0 32px;
			display: flex;
			align-items: center;
			justify-content: center;
			height: 80px;
			overflow: hidden;
			animation: headerGlow 4s ease-in-out infinite alternate;
		}

		@keyframes headerGlow {
			0% {
				box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3), 0 0 30px rgba(135, 206, 235, 0.1);
			}
			100% {
				box-shadow: 0 4px 25px rgba(0, 0, 0, 0.4), 0 0 40px rgba(135, 206, 235, 0.2);
			}
		}

		.logo-container {
			flex: 0 0 auto;
			margin-right: 15px;
			display: flex;
			align-items: center;
			padding: 0;
			height: 100%;
			overflow: hidden;
			animation: logoFloat 3s ease-in-out infinite;
		}

		@keyframes logoFloat {
			0%, 100% { transform: translateY(0px); }
			50% { transform: translateY(-2px); }
		}

		.logo-container img {
			height: 100%;
			width: auto;
			max-height: 150px;
			display: block;
			margin: 0;
			padding: 0;
			transform: none;
			filter: drop-shadow(0 2px 8px rgba(255, 255, 255, 0.3));
			transition: all 0.3s ease;
		}

		.logo-container img:hover {
			filter: drop-shadow(0 4px 12px rgba(255, 255, 255, 0.5));
			transform: scale(1.05);
		}

		#header nav {
			flex: 1;
			display: flex;
			justify-content: center;
		}

		#navbar { 
			display: flex; 
			align-items: center; 
			justify-content: center; 
			flex-wrap: wrap; 
			gap: 12px; 
			margin: 0; 
			padding: 0;
			animation: navSlideIn 1s ease-out;
		}

		@keyframes navSlideIn {
			0% {
				opacity: 0;
				transform: translateY(-20px);
			}
			100% {
				opacity: 1;
				transform: translateY(0px);
			}
		}

		#navbar li { 
			list-style: none; 
			position: relative;
			animation: navItemFadeIn 0.8s ease-out forwards;
			opacity: 0;
		}

		#navbar li:nth-child(1) { animation-delay: 0.1s; }
		#navbar li:nth-child(2) { animation-delay: 0.2s; }
		#navbar li:nth-child(3) { animation-delay: 0.3s; }
		#navbar li:nth-child(4) { animation-delay: 0.4s; }
		#navbar li:nth-child(5) { animation-delay: 0.5s; }

		@keyframes navItemFadeIn {
			0% {
				opacity: 0;
				transform: translateY(-10px);
			}
			100% {
				opacity: 1;
				transform: translateY(0px);
			}
		}

		#navbar li a { 
			text-decoration: none; 
			font-size: 15px; 
			font-weight: 600; 
			color: #ffffff;
			text-shadow: 0 1px 3px rgba(0, 0, 0, 0.5);
			transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); 
			padding: 10px 18px; 
			border-radius: 25px; 
			display: block;
			background: rgba(255, 255, 255, 0.1);
			border: 1px solid rgba(255, 255, 255, 0.2);
			backdrop-filter: blur(10px);
			position: relative;
			overflow: hidden;
		}

		#navbar li a::before {
			content: '';
			position: absolute;
			top: 0;
			left: -100%;
			width: 100%;
			height: 100%;
			background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
			transition: left 0.5s ease;
		}

		#navbar li a:hover::before {
			left: 100%;
		}

		#navbar li a:hover, #navbar li a.active { 
			color: #ebe4e4;
			background: linear-gradient(135deg, rgba(37, 37, 37, 0.358), rgba(255, 255, 255, 0.2));
			border: 1px solid rgba(79, 82, 83, 0.5);
			box-shadow: 0 4px 15px rgba(58, 58, 58, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2);
			transform: translateY(-2px) scale(1.05);
			text-shadow: 0 1px 5px rgba(62, 61, 61, 0.033);
		}

		#navbar li a.active {
			background: linear-gradient(135deg, rgba(67, 67, 67, 0.564), rgba(255, 255, 255, 0.3));
			animation: activeGlow 2s ease-in-out infinite alternate;
		}

		@keyframes activeGlow {
			0% {
				box-shadow: 0 4px 15px rgba(72, 73, 73, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.2);
			}
			100% {
				box-shadow: 0 6px 20px rgba(61, 62, 62, 0.5), inset 0 1px 0 rgba(255, 255, 255, 0.3);
			}
		}
		
		/* Mobile Responsive Navbar */
		@media (max-width: 768px) {
			#header {
				padding: 0 16px;
				height: 60px;
			}
			
			.logo-container {
				margin-right: 10px;
			}
			
			.logo-container img {
				max-height: 50px;
			}
			
			#navbar { 
				gap: 4px; 
				flex-wrap: nowrap; 
				justify-content: flex-end; 
				overflow-x: auto; 
				-ms-overflow-style: none; 
				scrollbar-width: none; 
				width: 100%;
				padding: 0 5px;
			}
			
			#navbar::-webkit-scrollbar { 
				display: none; 
			}
			
			#navbar li { 
				margin: 0; 
				padding: 0;
				flex-shrink: 0;
			}
			
			#navbar li a { 
				padding: 6px 12px; 
				font-size: 12px; 
				min-width: auto;
				white-space: nowrap; 
				display: inline-block;
				border-radius: 15px;
			}
		}
		
		@media (max-width: 480px) {
			#header {
				padding: 0 12px;
				height: 55px;
			}
			
			.logo-container img {
				max-height: 45px;
			}
			
			#navbar li a { 
				padding: 5px 10px; 
				font-size: 11px;
			}
		}

		/* Page Header */
		.page-header { 
			padding: 40px 24px; 
			text-align: center; 
			background: linear-gradient(135deg, #1a1a2e 0%, #16213e 30%, #041325 60%, #1a1a2e 100%);
			border-bottom: 1px solid rgba(255,255,255,0.1);
		}
		.page-header h1 { 
			font-size: 2.5rem; 
			margin: 0; 
			color: #f1ecec;
			text-shadow: 0 2px 10px rgba(0,0,0,0.5);
		}

		/* Product Grid Styles */
		.product-grid { display: flex; flex-wrap: wrap; gap: 32px; justify-content: center; padding: 40px 20px; max-width: 1200px; margin: 0 auto; }
		.product-card { 
			background: var(--panel); 
			border: 2px solid var(--border); 
			border-radius: 12px; 
			width: 280px; 
			text-align: center; 
			padding: 24px 16px; 
			transition: transform 0.3s ease, border-color 0.3s ease;
		}
		.product-card:hover {
			transform: translateY(-5px);
			border-color: var(--accent);
		}
		.product-card img { 
			width: 100%; 
			height: 220px; 
			object-fit: cover; 
			border-radius: 8px; 
			background: #222; 
		}
		.product-card h3 { 
			margin: 18px 0 8px 0; 
			font-size: 1.2rem; 
			color: var(--text); 
		}
		.product-card p { 
			color: var(--muted); 
			margin: 0 0 16px 0; 
			font-size: 1.1rem;
			font-weight: 600;
		}
		.add-to-cart {
			background: var(--accent);
			color: var(--bg);
			border: none;
			padding: 10px 20px;
			border-radius: 6px;
			cursor: pointer;
			font-weight: 600;
			transition: all 0.3s ease;
		}
		.add-to-cart:hover {
			background: rgba(255,255,255,0.9);
			transform: translateY(-2px);
		}
		.back-btn {
			position: fixed;
			top: 100px;
			left: 20px;
			background: var(--panel);
			color: var(--text);
			border: 2px solid var(--border);
			padding: 10px 15px;
			border-radius: 8px;
			text-decoration: none;
			font-weight: 600;
			transition: all 0.3s ease;
			z-index: 998;
		}
		.back-btn:hover {
			border-color: var(--accent);
			color: var(--accent);
		}
		
		/* Mobile responsive layout */
		@media (max-width: 799px) {
			body {
				overflow-x: hidden;
				width: 100vw;
			}
			
			.container {
				max-width: 100vw;
				padding: 0 8px;
				box-sizing: border-box;
			}
			
			.product-grid {
				display: grid !important;
				grid-template-columns: repeat(2, 1fr) !important;
				gap: 8px !important;
				padding: 0 8px;
				max-width: 100%;
				box-sizing: border-box;
			}
			
			.product-card {
				width: 100% !important;
				padding: 12px 6px !important;
				box-sizing: border-box;
				min-width: 0;
			}
			
			.product-card img {
				height: 180px !important;
				width: 100%;
				object-fit: cover;
			}
			
			.product-card h3 {
				font-size: 0.95rem !important;
				margin: 8px 0 4px 0 !important;
				word-wrap: break-word;
			}
			
			.product-card p {
				font-size: 0.85rem !important;
				margin: 0 0 8px 0 !important;
				word-wrap: break-word;
			}
			
			.add-to-cart {
				padding: 6px 12px !important;
				font-size: 0.8rem !important;
				width: 100%;
				box-sizing: border-box;
			}
		}
		
		@media (max-width: 480px) {
			.product-grid {
				gap: 6px !important;
				padding: 0 4px;
			}
			
			.product-card {
				padding: 8px 4px !important;
			}
			
			.product-card img {
				height: 150px !important;
			}
			
			.product-card h3 {
				font-size: 0.85rem !important;
				margin: 6px 0 3px 0 !important;
			}
			
			.product-card p {
				font-size: 0.75rem !important;
				margin: 0 0 6px 0 !important;
			}
			
			.add-to-cart {
				padding: 5px 8px !important;
				font-size: 0.75rem !important;
			}
		}
	</style>
</head>
<body>
	<section id="header">
		<div class="logo-container">
			<a href="index.html"><img src="img/logo1.png" class="logo" alt="RAW FADE"></a>
		</div>
		<nav>
			<ul id="navbar">
				<li><a href="shirts.html">SHIRTS</a></li>
				<li><a href="tshirts.html">T-SHIRTS</a></li>
				<li><a href="jeans.html">JEANS</a></li>
				<li><a href="shorts.html" >SHORTS</a></li>
				<li><a href="jackets.html">JACKETS</a></li>
			</ul>
		</nav>
	</section>

	<a href="shop.html" class="back-btn"><i class="fas fa-arrow-left"></i> Back to Shop</a>
	<div class="page-header"><h1>SHORTS</h1></div>
	<div class="container">
		<div class="product-grid">
			<div class="product-card">
				<img src="img/products/d2-3.jpg" alt="Denim Shorts">
				<h3>Denim Shorts</h3>
				<p>₹ 1,299</p>
				<button class="add-to-cart" onclick="addToCart(25, 'Denim Shorts', 1299, 'img/products/d2-3.jpg')">Add to Cart</button>
			</div>
			<div class="product-card">
				<img src="img/products/d2-4.jpg" alt="Cargo Shorts">
				<h3>Cargo Shorts</h3>
				<p>₹ 1,499</p>
				<button class="add-to-cart" onclick="addToCart(26, 'Cargo Shorts', 1499, 'img/products/d2-4.jpg')">Add to Cart</button>
			</div>
			<div class="product-card">
				<img src="img/products/d3-2.png" alt="Chino Shorts">
				<h3>Chino Shorts</h3>
				<p>₹ 1,199</p>
				<button class="add-to-cart" onclick="addToCart(27, 'Chino Shorts', 1199, 'img/products/d3-2.png')">Add to Cart</button>
			</div>
			<div class="product-card">
				<img src="img/products/d4-2.png" alt="Athletic Shorts">
				<h3>Athletic Shorts</h3>
				<p>₹ 999</p>
				<button class="add-to-cart" onclick="addToCart(28, 'Athletic Shorts', 999, 'img/products/d4-2.png')">Add to Cart</button>
			</div>
			<div class="product-card">
				<img src="img/products/d4-3.png" alt="Board Shorts">
				<h3>Board Shorts</h3>
				<p>₹ 1,399</p>
				<button class="add-to-cart" onclick="addToCart(29, 'Board Shorts', 1399, 'img/products/d4-3.png')">Add to Cart</button>
			</div>
			<div class="product-card">
				<img src="img/products/d4-4.png" alt="Casual Shorts">
				<h3>Casual Shorts</h3>
				<p>₹ 1,149</p>
				<button class="add-to-cart" onclick="addToCart(30, 'Casual Shorts', 1149, 'img/products/d4-4.png')">Add to Cart</button>
			</div>
			<div class="product-card">
				<img src="img/products/d5-1.png" alt="Summer Shorts">
				<h3>Summer Shorts</h3>
				<p>₹ 1,099</p>
				<button class="add-to-cart" onclick="addToCart(31, 'Summer Shorts', 1099, 'img/products/d5-1.png')">Add to Cart</button>
			</div>
			<div class="product-card">
				<img src="img/products/d5-2.png" alt="Premium Shorts">
				<h3>Premium Shorts</h3>
				<p>₹ 1,599</p>
				<button class="add-to-cart" onclick="addToCart(32, 'Premium Shorts', 1599, 'img/products/d5-2.png')">Add to Cart</button>
			</div>
		</div>
	</div>

	<script>
		async function addToCart(productId, productName, price, image) {
			const token = localStorage.getItem('token');
			const username = localStorage.getItem('username');
			
			if (!token || !username) {
				alert('Please login to add items to cart');
				window.location.href = 'login.html';
				return;
			}

			try {
				// Try backend API first
				const response = await fetch(`/api/cart/user/${username}/add?productId=${productId}&quantity=1`, {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json',
						'Authorization': `Bearer ${token}`
					}
				});

				if (response.ok) {
					alert('Product added to cart successfully!');
					return;
				}
			} catch (error) {
				console.log('Backend API not available, using localStorage fallback');
			}

			// Fallback to localStorage
			const cartKey = `cart_${username}`;
			let cart = JSON.parse(localStorage.getItem(cartKey)) || [];
			
			const existingItem = cart.find(item => item.id === productId);
			if (existingItem) {
				existingItem.quantity += 1;
			} else {
				cart.push({
					id: productId,
					name: productName,
					price: parseFloat(price),
					image: image,
					quantity: 1,
					addedAt: new Date().toISOString()
				});
			}
			
			localStorage.setItem(cartKey, JSON.stringify(cart));
			alert('Product added to cart successfully!');
		}
	</script>
</body>
</html>
